require("TSLib")
require("stage")
require("lib")
require("account")

function ZhuaGui(once,account)
	--toast("进入抓鬼...", 3)
	--mSleep(3200)
	local errorCnt = 1
	local aa = false
	local bb = false
	local cc = false
	local prev = -1
	local prevTable = {}
	while true do
		if errorCnt > 15 then
			return "error"
		end
		--mLog("正在抓鬼...", true)
		mSleep(433)
		local x,y,t = Compose({官职任务, 充值, 经验超过上限知道了, 充值了解详情, 葫芦太多了, 主页1, 寻物,抓鬼任务,帮忙抓鬼, 前往, 抓鬼已开始, 获得一个葫芦, 战斗中, 拼图, 继续})
		mLog(string.format("抓鬼循环---坐标:%d，%d，类型:%d",x,y,t))
		--mSleep(3000)
		if t == -1 then
			mTap({59,   10})
			if errorCnt > 10 then
				local x1,y1 = 下方图标()
				if x1 ~= -1 then
					mTap({x1, y1})
					--点击任务
					mTap({206, 763})
				end    
			end
			errorCnt = errorCnt + 1
			--mLog("没找到", true)
			--mSleep(2000)
		else
			errorCnt = 1
--			if prev ~= t then
--				prevTable = {}
--				prevTable[t] = 0
--			else
--				if not prevTable[t] then
--					prevTable[t] = 0
--				end
--				prevTable[t] = prevTable[t] + 1
--				if prevTable[t] >= 25 then
--					return "error"
--				end
--			end
		end
		--官职任务
		if t == 1 then
			mTap({x,y},true)
		end
		if t == 2 then
			mTap({x,y}, true)
		end
		--经验超过上限知道了
		if t == 3 then
			if aa then
				mTap({x, y}, true)
				mTap({37,  763}, true)
				jingli = false
				SaveOrUpdate(account[1], account[4], typeZg)
				return false 
			else
				aa = true
			end
		else
			aa = false 
		end
		--没有精力
		if t == 4 then
			--toast("没有精力")
			if bb then
				mTap({x, y}, true)
				mTap({x, y}, true)
				mTap({37,  763}, true)
				jingli = false
				SaveOrUpdate(account[1], account[4], typeZg)
				return false
			else
				bb = true
			end
		else
			bb = false
		end

		--葫芦太多了，师门和抓鬼都不做了
		if t == 5 then
			if cc then
				--mLog("葫芦太多了", debug)
				mTap(FengYaoPage["葫芦满了取消"], true)
				mTap({37,  763}, true)
				SaveOrUpdate(account[1], account[4], typeZg)
				return true
			else
				cc = true
			end
		else
			cc = false
		end


		if t == 6 then
			--mLog("主页", true)
			--点击下方任务图标
			mTap(MasterPage["任务图标"], true)
		end
		if t == 7 then
			--mLog("寻物")
			--mTap({x,  y}, true)
			local ax,bx = 问答()
			if ax ~= -1 then
				mTap({ax, bx}, true)
			end
			XunWu({x, y})
		end
		if t == 8 then
			if once or IsFengYao() then
				--随机一下
				mTap({34,  372},true)
				mTap({34,  372})
				mTap({34,  372},true)
				--返回三界
				mTap({81,  701}, true)
				--首页
				mTap({30,  765}, true)
				return true
			end
			--mLog("抓鬼任务")
			if isColor(x-52,y,0xe60515) then
				--mLog("抓鬼任务已完成")
				SaveOrUpdate(account[1], account[4], typeZg)
				return true
			end
			mSleep(1000)
			mTap({x, y}, true)
		end
		if t == 9 then
			--mLog("帮忙抓鬼", true)
			if IsFengYao() then
				--随机一下
				mTap({34,  372},true)
				mTap({34,  372})
				mTap({34,  372},true)
				--返回三界
				mTap({81,  701}, true)
				--首页
				mTap({30,  765}, true)
				return false
			end
			local m,n = 抓鬼已开始()
			if m ~= -1 then
				mTap(ZhuaPage["出发"], true)
				mSleep(500)
			else
				mTap({x, y}, true)
			end
		end
		if t == 10 then
			--mLog("前往")
			mTap({x, y}, true)
		end
		if t == 11 then
			--mLog("抓鬼已开始")
			mTap(ZhuaPage["出发"], true)
			mSleep(500)
		end
		if t == 12 then
			--mLog("获得一个葫芦")
			mTap({x, y}, true)
		end
		if t == 13 then
			local a,b = 一倍速度()
			if a ~= -1 then
				mTap({a, b}, true)
				mSleep(400)
			end
		end
		if t == 14 then
			--mLog("拼图", true)
			--mSleep(1100)
			local m,n = 问答()
			if m ~= -1 then
				mTap({m, n}, true)
			else
				ZhuaGuiPintu()
			end
		end
		if t == 15 then
			mTap({x, y})
		end
	end
end

local bb = {}
local cc = {}
bb[1] = {0x38568a, "0|6|0x375689,0|12|0x3a588c,-1|15|0x345286,8|0|0x355387,6|9|0x38568a,4|4|0x345286,15|17|0x345286,12|12|0x3a588c", 90, 41, 347, 441, 467}
bb["野鬼"] = {0x3f5d91, "10|6|0x345286,34|4|0x345286,30|0|0x355387,29|17|0x3a588c", 90, 41, 347, 441, 467}
bb["僵尸"] = {0x426094, "6|1|0x48669a,14|0|0x3d5b8f,14|3|0x345286,14|6|0x345286,7|6|0x345286,0|6|0x39578b,0|10|0x345386,0|12|0x355387,-2|17|0x355387", 90, 41, 347, 441, 467}
bb["骷髅怪"] = {0x345286, "-10|2|0x38568a,24|1|0x375589,45|8|0x365488,45|2|0x345286,47|-4|0x345286", 90, 41, 347, 441, 467}
bb["马面"] = {0x3e5c90, "9|1|0x345286,9|9|0x355387,-1|4|0x38568a,-2|14|0x345286,8|14|0x345286,12|12|0x355387,12|15|0x3a588c,11|18|0x355387,8|19|0x426194", 90, 41, 347, 441, 467}
bb["牛头"] = {0x3a588c, "-1|3|0x345286,-3|6|0x355387,5|1|0x3b598d,12|3|0x3e5c90,5|10|0x345286,-2|10|0x345286,13|10|0x345286,5|18|0x3b598d", 90, 41, 347, 441, 467}
bb["书籍"] = {0x355387, "3|2|0x38568a,9|-1|0x38568a,13|4|0x345386,12|18|0x39578b,-2|16|0x375589,4|15|0x355387", 90, 41, 347, 441, 467}
bb["书画"] = {0x416093, "17|7|0x345286,7|14|0x365488,39|8|0x345286,22|3|0x355387,32|15|0x345286", 90, 41, 347, 441, 467}
bb["香炉"] = {0x3b598d, "-11|1|0x3d5c8f,-6|5|0x345286,-12|5|0x345286,0|5|0x345286,-12|10|0x38568a,3|11|0x365488,0|13|0x345286,-5|15|0x436195,-9|19|0x375589", 90, 41, 347, 441, 467}
bb["蜡烛"] = {0x3d5c90, "-2|3|0x3d5b8f,-2|16|0x365488,2|13|0x39588c,7|9|0x38568a,14|3|0x3a588c,10|-1|0x365488,11|16|0x355387,15|15|0x355387,14|12|0x3a588c", 90, 41, 347, 441, 467}
bb["黄纸"] = {0x38568a, "-3|6|0x355387,2|5|0x38568a,-1|12|0x345286,0|16|0x345286,-3|17|0x355387,8|17|0x3a588c,15|17|0x375689,14|18|0x3a588c,12|0|0x375589", 90, 41, 347, 441, 467}
bb["酒"]= {0x365488, "1|7|0x365488,1|15|0x355387,5|5|0x345286,9|1|0x355387,15|18|0x355387,14|13|0x3a588c,13|9|0x3a588c", 90, 41, 347, 441, 467}
bb["黄金"] = {0x38568a, "-10|7|0x405e92,9|7|0x38578a,7|11|0x345286,7|19|0x345286,-8|19|0x345286,-5|16|0x365488", 90, 41, 347, 441, 467}



cc[1] = {
	{0xc3b24c, "-4|-1|0x14100b,-12|1|0x656d6d,-25|1|0x887a7a,-8|16|0xebd880,-2|34|0xcdbb63,-17|36|0xb5a457,21|11|0x282a1f,24|11|0xe2d681,0|-13|0x998e3f", 85, 26, 219, 411, 595},
	{0xbdaa44, "9|-11|0x444733,17|-11|0x727077,17|5|0x444442,17|19|0xe6dda2,8|21|0xf2e19c,-19|11|0xcdbc68,-15|-17|0x998947,4|-29|0x3b4346", 85, 26, 219, 411, 595},
	{0xf5eebb, "-5|-28|0xccb653,-14|-15|0x444441,-23|-5|0xb4a356,-17|13|0xa9a998,-1|21|0x454553,18|-3|0xd2bb66,20|-18|0xc8b768,-1|4|0xd2bd58", 85, 26, 219, 411, 595},
	{0xa09955, "-7|-8|0x4d4832,-17|-21|0xd0c87a,-3|-21|0xc7b65f,10|-21|0xbab574,1|11|0x54585f,-14|13|0x232323,21|-5|0x384253", 85, 26, 219, 411, 595},
	{0x86bfd3, "-8|-13|0x373725,7|-26|0xe9e9c8,-18|-23|0xddea99,-18|-2|0xf0f2c1,-31|11|0x48746d,-8|16|0x8cbebc,19|11|0x83c6c9,19|-13|0x7e7f4e", 85, 26, 219, 411, 595},
	{0x81bfc8, "6|6|0x000d00,11|16|0xefe2c0,-8|17|0xb1a86b,-23|18|0xf0f0ac,-11|-18|0x65958c,8|-19|0x85c7c7,14|2|0x152929", 85, 26, 219, 411, 595},
	{0xd7d798, "-3|16|0xf0ffee,3|19|0x1f3333,-4|29|0xe4e492,-20|28|0xededba,-15|2|0x7eb0c1,-15|-13|0x001007,-36|-6|0x80bcc0,-37|16|0x8a7c4a", 85, 26, 219, 411, 595},
	{0x3d6c70, "6|-9|0x00110e,8|-19|0xdfdfae,-20|-23|0x042c26,-24|-20|0xc7c695,-29|0|0xeceec0,-15|17|0x5b8f8f,5|18|0x4b7e8c", 85, 26, 219, 411, 595},
	{0xe1bf5d, "10|-6|0x3a3333,-13|-16|0x211e1e,-4|-24|0xefe4c2,21|-20|0x172111,-32|-8|0xeffcbf,-17|18|0xeed56b,10|21|0xbba34b,-4|22|0xcfad58", 85, 26, 219, 411, 595},
	{0xfcdd67, "8|-4|0x44392e,16|-20|0xede3b4,-17|-8|0xb79846,-24|6|0xb6a353,-24|23|0x9a8f4a,16|20|0x443c3b,13|35|0x1f201c,-4|34|0x16231b", 85, 26, 219, 411, 595},
	{0xf6e57b, "9|-20|0xf0e381,-8|-23|0xaf9d47,-25|-22|0x4a4a44,-10|2|0xedd165,-11|20|0x0e0e0d,-16|19|0x222122,-34|13|0x121912,-35|-4|0x171c13,19|18|0xd6c67b", 85, 26, 219, 411, 595},
	{0xfedc86, "9|-11|0xa89744,19|-22|0xae9d47,-1|17|0xdfcb79,-19|11|0x1a1111,-18|-4|0x433337,-19|-35|0x2d2d28,2|-37|0x181b15", 85, 26, 219, 411, 595},
	{0xecaca9, "17|-1|0xe7b2af,11|11|0xa29144,18|-11|0xe0cc69,34|-7|0xddc86b,27|-34|0xe1c86d,11|-32|0xa29152,-4|-35|0xad9c4e,-14|-14|0x98686d,-14|-24|0xb16e73", 85, 26, 219, 411, 595},
	{0xedd579, "13|18|0xed8e83,15|14|0x975153,8|32|0xb17474,-1|32|0x9e6a67,16|-13|0x8d816f,15|-9|0x36361e,-22|-10|0xbfad5e,-16|7|0xae9759,-21|22|0xae9d51", 85, 26, 219, 411, 595},
	{0xeecc66, "0|-16|0x5f4d3b,-13|-23|0xbd756b,12|-31|0xb36f77,-20|-6|0xd6c681,-12|13|0x191808,2|16|0xcfc16e,18|7|0xded481", 85, 26, 219, 411, 595},
	{0xddcc74, "15|-5|0x3b2e3b,33|14|0xa57076,31|-10|0xd0777b,21|-14|0xeb777c,0|-11|0xdb7670,-14|-13|0xab9f51,-19|-5|0xe8e6ac,-8|21|0xb1a064", 85, 26, 219, 411, 595},
	{0x000000, "-3|11|0xa71c30,-3|15|0xde3546,-6|28|0xd4b199,5|25|0x252b35,5|-19|0x966667,-20|-8|0xbfb188,-20|13|0xf7eebb,-2|-11|0x55040d", 85, 26, 219, 411, 595},
	{0x751118, "-12|8|0x090900,-20|3|0xe93345,-20|7|0x88111b,-33|0|0xd2ab99,-15|-15|0xf6eebb,1|-18|0xccbb94,-3|19|0x442b38", 85, 26, 219, 411, 595},
	{0xddbeaa, "-7|0|0xf8f6cd,-9|-3|0xe03352,-18|-8|0x0d0901,-23|-20|0x694951,-28|0|0x821117,-32|15|0xbbb088,-15|15|0xeeeebb", 85, 26, 219, 411, 595},
	{0xa03333, "-6|10|0x526221,-4|6|0x0b0201,10|14|0x3b333c,26|-5|0x624a32,17|-16|0x791302,-8|-20|0xaa4844,-24|-6|0xe8d7b9", 85, 26, 219, 411, 595},
	{0x7d2521, "-2|11|0x669333,-5|23|0xe5ddbb,-14|13|0x911d1a,-22|-14|0x660900,14|-11|0x433344,1|-5|0x4f1b16,7|7|0x5c852e", 85, 26, 219, 411, 595},
	{0xbb7374, "0|24|0x841100,-15|34|0x665533,-20|17|0x220d0a,-19|8|0xaa3f2f,-16|2|0x689332,-27|2|0x6b8c34,-16|-14|0xdcd3b1,-27|-9|0x7d6a37", 85, 26, 219, 411, 595},
	{0xbb6559, "-26|-5|0x750f00,-25|-16|0x545421,-15|-23|0x2b1201,-9|-20|0xaa3429,0|-19|0x668a33,-4|-29|0x516526,-25|-33|0x3d3042", 85, 26, 219, 411, 595},
	{0xccc575, "-8|-11|0x332236,-17|-6|0x56b7b7,-18|-24|0x66cccc,-2|-26|0x94c9cd,-28|-15|0x67573c,-5|15|0x1a1104,19|9|0xc7c067", 85, 26, 219, 411, 595},
	{0x53473b, "0|-4|0xccc46e,16|-24|0xcbc467,17|-14|0x6fd2d5,25|11|0x988456,17|21|0xa0dae2,6|22|0x9acdd4,-18|7|0x98854c", 85, 26, 219, 411, 595},
	{0xa8d7d7, "-1|-9|0x351e09,-8|-17|0xccc367,3|-36|0xc0c065,-19|-34|0x514025,-21|-9|0x332233,-34|-12|0x70b9bd,-33|2|0x56aeb7,-22|10|0x564926", 85, 26, 219, 411, 595},
	{0x61c2c3, "2|19|0x4e9aa0,-26|18|0xaa9971,-17|11|0x302233,-35|39|0xafa758,-43|13|0xd7c76b,-43|2|0xe8d7ae,-10|-9|0x544431", 85, 26, 219, 411, 595},
}
cc["酒"] = {
	{0xc3b24c, "-4|-1|0x14100b,-12|1|0x656d6d,-25|1|0x887a7a,-8|16|0xebd880,-2|34|0xcdbb63,-17|36|0xb5a457,21|11|0x282a1f,24|11|0xe2d681,0|-13|0x998e3f", 85, 26, 219, 411, 595},
	{0xbdaa44, "9|-11|0x444733,17|-11|0x727077,17|5|0x444442,17|19|0xe6dda2,8|21|0xf2e19c,-19|11|0xcdbc68,-15|-17|0x998947,4|-29|0x3b4346", 85, 26, 219, 411, 595},
	{0xf5eebb, "-5|-28|0xccb653,-14|-15|0x444441,-23|-5|0xb4a356,-17|13|0xa9a998,-1|21|0x454553,18|-3|0xd2bb66,20|-18|0xc8b768,-1|4|0xd2bd58", 85, 26, 219, 411, 595},
	{0xa09955, "-7|-8|0x4d4832,-17|-21|0xd0c87a,-3|-21|0xc7b65f,10|-21|0xbab574,1|11|0x54585f,-14|13|0x232323,21|-5|0x384253", 85, 26, 219, 411, 595},
	{0x86bfd3, "-8|-13|0x373725,7|-26|0xe9e9c8,-18|-23|0xddea99,-18|-2|0xf0f2c1,-31|11|0x48746d,-8|16|0x8cbebc,19|11|0x83c6c9,19|-13|0x7e7f4e", 85, 26, 219, 411, 595},
	{0x81bfc8, "6|6|0x000d00,11|16|0xefe2c0,-8|17|0xb1a86b,-23|18|0xf0f0ac,-11|-18|0x65958c,8|-19|0x85c7c7,14|2|0x152929", 85, 26, 219, 411, 595},
	{0xd7d798, "-3|16|0xf0ffee,3|19|0x1f3333,-4|29|0xe4e492,-20|28|0xededba,-15|2|0x7eb0c1,-15|-13|0x001007,-36|-6|0x80bcc0,-37|16|0x8a7c4a", 85, 26, 219, 411, 595},
	{0x3d6c70, "6|-9|0x00110e,8|-19|0xdfdfae,-20|-23|0x042c26,-24|-20|0xc7c695,-29|0|0xeceec0,-15|17|0x5b8f8f,5|18|0x4b7e8c", 85, 26, 219, 411, 595},
	{0xe1bf5d, "10|-6|0x3a3333,-13|-16|0x211e1e,-4|-24|0xefe4c2,21|-20|0x172111,-32|-8|0xeffcbf,-17|18|0xeed56b,10|21|0xbba34b,-4|22|0xcfad58", 85, 26, 219, 411, 595},
	{0xfcdd67, "8|-4|0x44392e,16|-20|0xede3b4,-17|-8|0xb79846,-24|6|0xb6a353,-24|23|0x9a8f4a,16|20|0x443c3b,13|35|0x1f201c,-4|34|0x16231b", 85, 26, 219, 411, 595},
	{0xf6e57b, "9|-20|0xf0e381,-8|-23|0xaf9d47,-25|-22|0x4a4a44,-10|2|0xedd165,-11|20|0x0e0e0d,-16|19|0x222122,-34|13|0x121912,-35|-4|0x171c13,19|18|0xd6c67b", 85, 26, 219, 411, 595},
	{0xfedc86, "9|-11|0xa89744,19|-22|0xae9d47,-1|17|0xdfcb79,-19|11|0x1a1111,-18|-4|0x433337,-19|-35|0x2d2d28,2|-37|0x181b15", 85, 26, 219, 411, 595},
	{0xecaca9, "17|-1|0xe7b2af,11|11|0xa29144,18|-11|0xe0cc69,34|-7|0xddc86b,27|-34|0xe1c86d,11|-32|0xa29152,-4|-35|0xad9c4e,-14|-14|0x98686d,-14|-24|0xb16e73", 85, 26, 219, 411, 595},
	{0xedd579, "13|18|0xed8e83,15|14|0x975153,8|32|0xb17474,-1|32|0x9e6a67,16|-13|0x8d816f,15|-9|0x36361e,-22|-10|0xbfad5e,-16|7|0xae9759,-21|22|0xae9d51", 85, 26, 219, 411, 595},
	{0xeecc66, "0|-16|0x5f4d3b,-13|-23|0xbd756b,12|-31|0xb36f77,-20|-6|0xd6c681,-12|13|0x191808,2|16|0xcfc16e,18|7|0xded481", 85, 26, 219, 411, 595},
	{0xddcc74, "15|-5|0x3b2e3b,33|14|0xa57076,31|-10|0xd0777b,21|-14|0xeb777c,0|-11|0xdb7670,-14|-13|0xab9f51,-19|-5|0xe8e6ac,-8|21|0xb1a064", 85, 26, 219, 411, 595},
	{0x000000, "-3|11|0xa71c30,-3|15|0xde3546,-6|28|0xd4b199,5|25|0x252b35,5|-19|0x966667,-20|-8|0xbfb188,-20|13|0xf7eebb,-2|-11|0x55040d", 85, 26, 219, 411, 595},
	{0x751118, "-12|8|0x090900,-20|3|0xe93345,-20|7|0x88111b,-33|0|0xd2ab99,-15|-15|0xf6eebb,1|-18|0xccbb94,-3|19|0x442b38", 85, 26, 219, 411, 595},
	{0xddbeaa, "-7|0|0xf8f6cd,-9|-3|0xe03352,-18|-8|0x0d0901,-23|-20|0x694951,-28|0|0x821117,-32|15|0xbbb088,-15|15|0xeeeebb", 85, 26, 219, 411, 595},
	{0xa03333, "-6|10|0x526221,-4|6|0x0b0201,10|14|0x3b333c,26|-5|0x624a32,17|-16|0x791302,-8|-20|0xaa4844,-24|-6|0xe8d7b9", 85, 26, 219, 411, 595},
	{0x7d2521, "-2|11|0x669333,-5|23|0xe5ddbb,-14|13|0x911d1a,-22|-14|0x660900,14|-11|0x433344,1|-5|0x4f1b16,7|7|0x5c852e", 85, 26, 219, 411, 595},
	{0xbb7374, "0|24|0x841100,-15|34|0x665533,-20|17|0x220d0a,-19|8|0xaa3f2f,-16|2|0x689332,-27|2|0x6b8c34,-16|-14|0xdcd3b1,-27|-9|0x7d6a37", 85, 26, 219, 411, 595},
	{0xbb6559, "-26|-5|0x750f00,-25|-16|0x545421,-15|-23|0x2b1201,-9|-20|0xaa3429,0|-19|0x668a33,-4|-29|0x516526,-25|-33|0x3d3042", 85, 26, 219, 411, 595},
	{0xccc575, "-8|-11|0x332236,-17|-6|0x56b7b7,-18|-24|0x66cccc,-2|-26|0x94c9cd,-28|-15|0x67573c,-5|15|0x1a1104,19|9|0xc7c067", 85, 26, 219, 411, 595},
	{0x53473b, "0|-4|0xccc46e,16|-24|0xcbc467,17|-14|0x6fd2d5,25|11|0x988456,17|21|0xa0dae2,6|22|0x9acdd4,-18|7|0x98854c", 85, 26, 219, 411, 595},
	{0xa8d7d7, "-1|-9|0x351e09,-8|-17|0xccc367,3|-36|0xc0c065,-19|-34|0x514025,-21|-9|0x332233,-34|-12|0x70b9bd,-33|2|0x56aeb7,-22|10|0x564926", 85, 26, 219, 411, 595},
	{0x61c2c3, "2|19|0x4e9aa0,-26|18|0xaa9971,-17|11|0x302233,-35|39|0xafa758,-43|13|0xd7c76b,-43|2|0xe8d7ae,-10|-9|0x544431", 85, 26, 219, 411, 595},
}

cc["黄纸"] = {
	{0xdecc67, "8|-5|0x5e603a,29|11|0x4c4834,36|28|0xdbca55,20|54|0xddcd61,6|45|0xdccc66,-21|21|0xefe1a9,47|29|0x3c4635", 85, 26, 219, 411, 595},
	{0xc6ad55, "-27|-25|0xd3c266,-44|-3|0xddca66,-60|9|0xeee999,-43|38|0xd9c775,-25|29|0x5d6236,-27|22|0xcabb44,-31|-2|0xdcc962", 85, 26, 219, 411, 595},
	{0xd0cc66, "-21|31|0xb5aa4e,-27|16|0xc7bb55,-52|-5|0xc6bb44,-44|-32|0xded37b,-37|-33|0xfedda6,-28|-1|0xbbbb39,-19|8|0xe3d27d", 85, 26, 219, 411, 595},
	{0xddcf77, "11|23|0xe2d077,-18|61|0xdccc75,-47|38|0xd8ce72,-43|23|0x6d6f31,-27|15|0xcec753,-28|31|0xdecc70", 85, 26, 219, 411, 595},

}


cc["蜡烛"] = {
	{0xa63733, "-18|-4|0xf6dbb9,5|-32|0x9b3333,-14|-32|0xe9b08f,-5|13|0xfcfef8,10|8|0xcf8844,-10|21|0xf8a83b,-1|29|0xfcb744,2|15|0xe78c43", 85, 26, 219, 411, 595},
	{0xd0886a, "6|-6|0xa94237,6|-10|0xcd8843,-8|-24|0xf3feb3,-4|-34|0xe28e3d,-22|-6|0xcf8871,-18|25|0xcb8735,-7|29|0x80282a", 85, 26, 219, 411, 595},
	{0x7b3333, "5|11|0xe8ae82,-2|11|0xbf763f,-41|9|0xc17844,-44|3|0xeefffa,-55|-1|0xf9d239,-32|-1|0x4a1917,-27|-11|0xb05444", 85, 26, 219, 411, 595},
	{0xfcfeee, "7|-5|0xfabf43,17|4|0xb67547,-14|-13|0xcc8864,-17|-6|0xefbfa6,-18|14|0xc1654d,-48|8|0x8b3333,-48|-7|0xe9a583,-40|-9|0xc18744", 85, 26, 219, 411, 595},

}


cc["僵尸"] = {
	--you
	{0x555b8a, "5|-17|0x7f393c,-7|-36|0x4c3c79,-29|-24|0xf0857b,-29|-9|0xfc3635,-27|-11|0x050216,-58|-9|0x77b8c3,-61|-17|0x3c336c,-51|24|0xfacc77,-45|27|0xd96448", 85, 26, 219, 411, 595},
	--下
	{0x78aaba, "-5|-10|0xff2533,-30|19|0x7f3c44,-14|20|0x5a6089,4|22|0x83333e,19|11|0x55447c,-31|-24|0xf5e879,4|-42|0x3b3e81", 85, 26, 219, 411, 595},
	--shang
	{0x5763a0, "-23|2|0x7a3644,-28|-1|0xf18b44,-26|30|0x7a97ab,-16|41|0xbf7584,-7|35|0xf13535,-8|64|0x77b5c6,-11|70|0x4b4d81,12|59|0xf8d56f,26|52|0xe5463c", 85, 26, 219, 411, 595},
	--zuo
	{0x555895, "6|-17|0x85383e,20|7|0x88d5c1,29|8|0xc24140,28|7|0x000001,59|11|0x77acbc,67|2|0xf6e4a5,46|-11|0xf6e276,60|-20|0xc13e3b,41|27|0xd27283", 85, 26, 219, 411, 595},
}

cc["野鬼"] = {
	--左
	{0x55d9cc, "-22|10|0x4c5566,-27|32|0x11041e,15|11|0x524856,25|22|0xa7f99b,42|16|0x3d539f,34|38|0x332335,38|41|0x11000b", 90,18, 215, 456, 610},
	--you
	{0x454e5f, "0|-19|0x1a1122,-22|1|0x6b99b9,-31|-10|0x7b8d7d,-55|-24|0x433344,-61|-4|0x41559f,-58|18|0x97d694,-42|30|0x92d48a,-20|24|0x60d1ce", 90,18, 215, 456, 610},
	--xia
	{0x99cc8c, "-4|10|0x74d482,-3|7|0x11192a,-15|1|0x1a233c,-24|1|0x91cc90,-25|6|0x181838,17|47|0x311a2b,-11|35|0x5d7373,-12|25|0x55d5cc,7|-19|0x395599", 90,18, 215, 456, 610},
	--shang
	{0x48ead9, "-37|-26|0x140414,-8|14|0x7df98e,-12|16|0x142236,-39|42|0x0d000d,-40|33|0x3b273b,-11|44|0x2b3c74", 90,18, 215, 456, 610},
}


cc["骷髅怪"] = {
	--shang
	{0xf7f4bb, "-13|14|0xfa7549,-16|9|0x000d00,-59|5|0x5c8fbb,-54|13|0x5e0c12,-44|39|0xb27c6b,-22|56|0xe1121b,-5|45|0x77211d,12|13|0x00221a",90,18, 215, 456, 610},
	--you
	{0xf6d8a1, "-17|-27|0xe82121,-5|-33|0x4e82a9,-41|-16|0xca7954,-57|-8|0x910109,-56|22|0x8f6655,-48|22|0x721313,-35|27|0xe5cf9c,-14|39|0x00221d", 85, 26, 219, 411, 595},
	--xia
	{0xf2ca88, "17|-9|0x9d3e37,48|-18|0x477093,62|3|0x4b87b2,56|-7|0xc3101b,24|-52|0xd1111f,6|-50|0x976e56,-2|6|0xf6e6ba,-9|-9|0x002216", 85, 26, 219, 411, 595},
	--zuo
	{0xf8f8c5, "15|-20|0x042215,31|-10|0xdac4a9,49|-9|0xf71b22,56|-4|0xb07765,56|15|0xe21117,43|36|0x7f6e65,26|37|0x519dc6,14|43|0x783243", 85, 26, 219, 411, 595},
}

cc["马面"] = {
	--xia
	{0x9c4922, "-15|26|0xf9f3b3,14|39|0xfcebaa,29|24|0x82b15d,17|4|0x998822,24|-13|0x006194,6|-26|0x113e4a,31|-23|0x005984,-5|-5|0x874322", 85, 26, 219, 411, 595},
	--you
	{0x9c5622, "2|-24|0xaac077,-16|-19|0xb5bb77,-25|-21|0xcbbb84,-41|-13|0x005d7f,-51|-18|0x005888,-53|10|0x3e3228,-38|19|0x7b3515,-20|9|0x99dc58", 85, 26, 219, 411, 595},
	--zuo
	{0xd05b21, "-11|0|0xc8622f,-20|24|0xe2e09e,-9|25|0xc4cc88,6|22|0x95b762,24|20|0x005a83,40|-7|0x7b5746,8|-5|0x9ef35a,20|-25|0xc15122", 85, 26, 219, 411, 595},
	--shang
	{0x924c1a, "0|-9|0xa1f55d,-39|-31|0xf3bd82,-29|22|0x006591,-9|13|0x935435,16|6|0x140f08", 85, 26, 219, 411, 595},
}
cc["牛头"] = {
	--s
	{0xef311f, "-7|-10|0xdd8422,-20|-16|0x336633,-23|34|0x3e6f49,39|31|0x2a2300,48|-3|0x007578,30|-16|0x0e1b0c,33|-1|0x9fdd89", 85, 26, 219, 411, 595},
	--x
	{0xef331e, "-19|-14|0x586a71,-27|-10|0x64421e,-20|-38|0x6acc86,-3|-44|0x007698,22|-42|0x684500,34|-30|0x7ed491,29|3|0xac792c,-14|20|0x2e522a", 85, 26, 219, 411, 595},
	--z
	{0xf2321a, "6|-22|0x663400,24|-21|0x7e9587,-25|-11|0x386748,-15|18|0xf69833,17|19|0x834c06,41|-9|0x0077a5,36|24|0x734500,23|36|0x0091e0", 85, 26, 219, 411, 595},
	--y
	{0xee301d, "11|-13|0xd07f29,4|-37|0x295c2a,-37|-22|0x7d5300,-45|2|0x006a8c,-34|5|0x075059,-37|18|0x67c688,-9|24|0x473300,21|13|0x044613", 85, 26, 219, 411, 595},
}

cc["书籍"] = {
	{0xeeeab4, "9|1|0xee8766,-8|-15|0xeec996,-16|3|0x919974,-27|21|0xee6f5a,-38|27|0x0a1a3a,-28|34|0xd1d298,-17|39|0x1e2f35", 85, 26, 219, 411, 595},
	{0xcaa5a5, "-1|-18|0xc4a7a0,1|-31|0x595353,15|-17|0x675f57,2|18|0xa99865,-5|12|0x9c9563,-6|17|0xc0af75,-17|20|0x866d5f", 85, 26, 219, 411, 595},
	{0xcddbef, "2|-15|0x9e8c82,3|-20|0xc9b882,-1|-38|0xc6d2e0,7|-27|0xe07c3e,30|-17|0x635544,-23|-24|0xcdd5f7", 85, 26, 219, 411, 595},
	{0xdcddff, "-7|-11|0x7e7a53,-3|-20|0xccc588,10|-25|0xccbe85,15|7|0xbbc0e9,-17|8|0xdaddf5,-32|-8|0xd4cdd5,-5|25|0x525a5f", 85, 26, 219, 411, 595},
	{0xc8d2f3, "3|-23|0xc8d9f0,0|-19|0x2a2d32,-25|5|0x4f585a,-8|28|0xbbb27f,-11|22|0xb1983b,-4|30|0xc7bc80,12|28|0x9d9d9d,20|21|0xb6b6b6", 85, 26, 219, 411, 595},
	--黄庭经左下
	{0x272787, "-8|8|0x211a7c,-9|-9|0xeeee88,-21|-10|0x081541,-11|-24|0xe9ed88,-4|-28|0x081944,5|-28|0xe8ee92,11|-28|0x6f7859,15|11|0x323837,0|23|0xb6b6a5", 85, 26, 219, 411, 595},
	--new
	{0xe6b481, "-15|28|0xfe8366,-28|25|0x6a693b,13|46|0xee7d65,32|37|0x0b2735", 85, 26, 219, 411, 595},
	{0x0c0e0d, "-7|18|0xfa7864,-20|61|0xeee6a2,-32|48|0xee7f64,-33|17|0x687652", 85, 26, 219, 411, 595},
	{0x536281, "-3|-9|0xaeb666,-29|22|0xb9b88e,-12|50|0x22140b,-3|44|0x8e8f63,-2|43|0x0e1f46", 85, 26, 219, 411, 595},
	{0x505d85, "8|-1|0xe5eeaa,-40|-20|0x898d6d,-46|-7|0x474960,-23|17|0x111f44", 85, 26, 219, 411, 595},
	{0x70704e, "-28|-36|0x696144,-25|-49|0xdbce9f,-13|-56|0x7177a9,34|-35|0x2a2a29", 85, 26, 219, 411, 595},
	{0x6a7b44, "11|4|0x8081a0,1|12|0x928144,-24|-44|0x443625,12|-28|0xddcca9", 85, 26, 219, 411, 595},
	{0x7d6d4a, "-17|2|0xe3d2a1,-33|-3|0xc8a044,-60|-1|0x8186ac,-26|-40|0xa5946d", 85, 26, 219, 411, 595},
	{0xc8bec8, "-17|-33|0x2a1512,-39|-9|0xcc8857,-54|-4|0x9fa7d5,-45|13|0xc76848", 85, 26, 219, 411, 595},
	{0x44eef5, "4|3|0x442623,-1|26|0x171c43,-30|59|0x7ef3f6,-25|60|0xd2d7c9", 85, 26, 219, 411, 595},
	{0x71eef4, "-17|-12|0x23465e,-25|-49|0xc6c4be,-57|-25|0x314f5a,-44|-2|0x42ddde", 85, 26, 219, 411, 595},
	{0xeaa681, "-17|-29|0x858544,-34|-14|0xeee0a4,-55|-13|0x454f44,-32|-7|0xee7764", 85, 26, 219, 411, 595},
	{0xcbcdf8, "-5|0|0xdb3443,-25|-5|0x27160f,-66|-15|0xccdcfa,-61|-11|0x534229", 85, 26, 219, 411, 595},
	{0xa1a2b8, "-13|8|0xc2ab46,-41|-13|0xbbbbde,-50|-6|0x1c3637,-37|31|0xdbc033", 85, 26, 219, 411, 595},
	{0xc9964c, "-8|-5|0x485246,-38|-21|0x7c7f44,-46|-12|0x2c3445,-41|-7|0x76738b", 85, 26, 219, 411, 595},
	{0xac898b, "-15|-8|0xbda49d,-43|-20|0xc46633,-65|-19|0x645150,-59|11|0xbb9799", 85, 26, 219, 411, 595},

}


cc["书画"] = {
	{0x475987, "-5|-12|0xaa9f77,2|-18|0x874422,12|-24|0x4c2622,11|-5|0x845241,16|15|0x803d22,2|16|0xa19562,-6|25|0x7b3c26,-11|6|0x7b5544", 85, 26, 219, 411, 595},
	{0x9f6924, "-8|13|0xeceba7,4|16|0xc3b76e,-54|12|0xb07930,-38|13|0xb5d373", 85, 26, 219, 411, 595},
	{0x75422d, "-3|7|0xa99968,-7|27|0x444577,-14|48|0x37353c,-21|50|0x623218", 85, 26, 219, 411, 595},

}

cc["黄金"] = {
	{0x833902, "-20|-1|0xcc7e00,-38|-7|0xcc7900,-24|-20|0xf3cd00,4|-27|0xedbf00,16|-22|0xcf7d00,30|-6|0x996b55,6|-3|0x864502,10|4|0xa67240", 85, 26, 219, 411, 595},
	{0xf3ab00, "-7|-31|0xf7f100,-19|-25|0xf4b400,-25|-9|0x633201,-18|11|0x9b6635,-12|27|0x9d7756,1|17|0xbb7700,5|0|0xf5dc00", 85, 26, 219, 411, 595},
	--zuoxia
	{0xeffd00, "10|5|0xfdf8a1,17|11|0x7e6d00,17|21|0xfff1dd,30|5|0xd7d232,38|0|0xb7a10d,40|-15|0x6f5900,29|-32|0x786700,19|-34|0xd7d200,17|-3|0xf2eea1", 85, 26, 219, 411, 595},
}
cc["香炉"] = {
	--shang
	{0x9274be, "0|-11|0xe4b987,-6|-23|0xf9fefe,-13|7|0x462b59,-9|19|0xe2d866,-22|40|0xebca66,24|34|0x7b5919,17|22|0xcebd48,17|22|0xcebd48,12|-3|0x9874be", 85, 26, 219, 411, 595},
	--xia
	{0x7d5094, "4|-7|0xbb9540,4|25|0xf9fff4,-18|24|0xfaeeef,-10|7|0x9074bc,-20|-11|0xcbb954,-16|-19|0xc7bb44,-16|-28|0x575542,14|-30|0x967e3e,22|-9|0xfcca86", 85, 26, 219, 411, 595},
	--you
	{0x633178, "1|-12|0x774589,24|-13|0xe7f0f0,5|10|0x7e5195,3|14|0xd0b275,-18|13|0xccbb44,-29|18|0x614f38,-36|5|0x262f3d,-41|-9|0xd7b06b,-34|-24|0xce9c46", 85, 26, 219, 411, 595},
	{0xb89344, "-18|-23|0xcdbc45,-28|-17|0x552d61,-59|-24|0xefecf3,-63|2|0xfcfdff,-46|6|0xe2bb80,-34|6|0x815ba8,-28|20|0xe3bb69", 85, 26, 219, 411, 595},
}

function XunWu(rr)

	local name = nil
	for k,v in pairs(bb) do
		local x,y = findMultiColorInRegionFuzzy(table.unpack(v))
		if x > -1 then
			name = k
			break
		end
	end
	if rr then
		mTap(rr, true)
	end
	if name ~= nil then
		toast("name"..name)
		local c = cc[name]
		if #c > 0 then
			mSleep(300)
			while true do
				for i = 1, #c, 1 do
					local x,y = findMultiColorInRegionFuzzy(table.unpack(c[i]))
					if x ~= -1 then
						mTap({x, y}, true)
						local f,r,t = FindStageUntil(帮忙抓鬼, 2)
						if f == false then
							FindStageNotUntil(寻找失败, 10)
						end
						return true
					end
				end

				local b,x,y = FindStageUntil(找东西, 2)
				if b then
					tap(429,  624)
					mSleep(100)
					mTap({428,  632})
				else
					local f,g,h = FindStageUntil(继续, 3)
					if f then
						FindStageNotUntil(寻找失败, 10)
					end
					return false
				end
			end
		end
	else
		--开始
		mTap({249,  502}, true)
		for i=1,10,1 do
			local b,x,y = FindStageUntil(找东西, 2)
			if b then
				mTap({380,  358}, true)
				--mSleep(600)
			else
				break
			end
		end

		local f,g,h = FindStageUntil(继续, 3)
		if f then
			FindStageNotUntil(寻找失败, 10)
		end
	end
end

--local name = ""
--for k,v in pairs(bb) do
--        local x,y = findMultiColorInRegionFuzzy(table.unpack(v))
--        if x > -1 then
--            name = k
--            break
--        end
--    end

--dialog(name)

function ZhuaGuiPintu()
	local tt = {}

	tt["鼎1"] = {
		{0xf7c100, "24|5|0xf6e617,20|-9|0x430f16,30|-15|0xd85b00,30|26|0xce8612,-11|22|0xee6a00,-20|19|0xf18200", 90, 21, 249, 445, 650},
		{0xefca00, "-34|-3|0x913700,-28|12|0xf5a200,-37|34|0xd7e800,-1|27|0x953b00,15|18|0x661701,9|35|0x5d1810", 90, 21, 249, 445, 650},
		{0x4d1500, "-4|-4|0x2e390b,7|-19|0xf3af00,8|-25|0x2c3911,29|-27|0xd4c601,30|-14|0x883600,30|4|0x923300,-18|4|0x9d3800", 90, 21, 249, 445, 650},
		{0x340100, "-21|-13|0x2a2f88,-37|-19|0xa65e07,-45|-29|0x5f1b00,-47|-3|0x3c0400,-4|-28|0x273314,2|-22|0x52285f", 90, 21, 249, 445, 650},
	}
	tt["鼎2"] = {
		{0x033011, "25|-16|0x4a6d4f,17|7|0x1d3928,43|6|0x559d66,48|-12|0x889975,38|18|0x446e44,11|18|0x446e56,3|8|0x07110a", 90, 21, 249, 445, 650},
		{0x777755, "-10|-5|0x5e7449,43|7|0x000000,51|-6|0x436242,31|18|0x337444,4|20|0xa3c5b0,20|34|0x337548,-9|37|0x61ac92", 90, 21, 249, 445, 650},
		{0x11333a, "-5|25|0x000000,-14|24|0x618d70,-13|-1|0x296955,14|0|0x123619,21|-2|0x2d5a3c,21|11|0x000800", 90, 21, 249, 445, 650},
		{0x224433, "22|-14|0x193d2c,8|-16|0x6b8e76,3|22|0x67785a,42|7|0x41634a,37|7|0x000000,26|-5|0x050d05,41|-18|0x2b5e46", 90, 21, 249, 445, 650},
	}
	tt["鼎3"] = {
		{0x301f0b, "-11|-37|0xddbb7a,-5|-15|0xc3905d,16|-14|0xa5723f,22|7|0x793716,8|22|0x49220d,-10|16|0x431707,26|11|0x9e7643", 90, 21, 249, 445, 650},
		{0xe0b285, "-7|-15|0x986648,5|-24|0x946344,41|-50|0xceb444,40|-19|0x7b4c22,33|-17|0xb17540,34|3|0xba984d,13|12|0xc59970", 90, 21, 249, 445, 650},
		{0x955122, "-4|-32|0x5e2217,-10|-43|0x190c08,8|-47|0x221105,26|-48|0x4d3b22,25|-38|0x322211,18|-35|0x1b0c00,15|-35|0x260900", 90, 21, 249, 445, 650},
		{0xad8455, "-5|39|0x835029,-39|16|0x866640,-46|2|0x331511,-50|-15|0x441409,-21|-14|0xa58053,5|-10|0x311415,-8|10|0x451b0a", 90, 21, 249, 445, 650},
	}
	tt["鼎4"] = {
		{0x397c60, "11|17|0x446b44,2|52|0x557e5c,11|44|0x5aaa83,29|37|0x0b221b,34|28|0x32614a,-10|3|0x77bb88,6|52|0x9cca9a", 90, 21, 249, 445, 650},
		{0x28442d, "4|-15|0x67ab88,15|-15|0xbbeebb,35|-16|0x408359,47|-18|0x224533,43|7|0x2d5544,21|8|0x3c6b46,4|12|0x669a67", 90, 21, 249, 445, 650},
		{0x326d48, "-14|4|0xa0daa7,17|12|0x225544,19|-24|0xb7dfac,7|-22|0x5f8c64,-2|-22|0x769a67,-14|-25|0x437755,29|26|0x345546", 90, 21, 249, 445, 650},
		{0x22443f, "-6|-27|0x568956,3|-25|0x83a574,27|-26|0x1b3d22,38|-26|0x113322,35|4|0x183f33,5|23|0x103732,-5|24|0x416a4b", 90, 21, 249, 445, 650},
	}
	tt["鼎5"] = {
		{0xc0b47d, "11|0|0x241005,35|29|0x335577,20|38|0x879999,7|56|0x657076,33|67|0xbda97b,11|71|0x788868,44|59|0xcbca97,43|42|0x929072", 90, 21, 249, 445, 650},
		{0xc4ba7f, "1|18|0x748481,-19|33|0x424447,-31|30|0x44667c,-36|27|0x3e5964,-50|48|0x47473b,-30|69|0x445f67,0|66|0xa8a997", 90, 21, 249, 445, 650},
		{0xbba976, "7|0|0x4e321e,-12|-24|0x311613,-4|-33|0x426a80,7|-41|0x2a171a,8|-49|0x6c8788,11|-62|0xb3bb9d,22|-45|0x608587", 90, 21, 249, 445, 650},
		{0xbeb380, "7|-1|0x341304,-12|-8|0x352625,-3|-27|0x44687f,10|-50|0xaeb391,12|-61|0x8e806d,-33|-42|0x426077,-41|-25|0x677766,-41|-18|0x967c5a", 90, 21, 249, 445, 650},
	}
	tt["鼎6"] = {
		{0x68edea, "3|6|0x112243,7|14|0x11336f,5|29|0x1a2b5e,1|33|0x43d3d3,16|42|0x0e2739,25|41|0x52eee4,41|39|0x33334f,48|44|0x41321f,50|58|0x114c79", 90, 21, 249, 445, 650},
		{0x132466, "-11|6|0x44e4e4,-12|15|0x12336f,-9|39|0x346164,-55|40|0x11110e,-57|35|0xc18b8b,-40|57|0x233d46,-24|57|0x19112e", 90, 21, 249, 445, 650},
		{0x101b3a, "-6|-15|0x3e94aa,-9|-25|0x224a66,-10|-36|0x44b0bc,8|-40|0x3fc2ca,18|-35|0x221d40,30|-31|0x1a256c,28|1|0x1e1910,27|6|0x58bcb8", 90, 21, 249, 445, 650},
		{0x3b3f55, "5|-5|0xe8b2b2,-1|-20|0x222243,9|-30|0xbb989d,-17|-33|0x1c2244,-25|-36|0x191948,-31|-19|0x4498a7,-34|9|0x162244", 90, 21, 249, 445, 650},
	}
	tt["香炉"] = {
		{0xecf0ec, "4|-10|0xfcf3f1,-5|-6|0x2d3743,20|26|0x8166aa,7|38|0x684485,-24|57|0xeaba69,3|48|0x8868ad,19|59|0xb88433,11|55|0x552a65", 90, 21, 249, 445, 650},
		{0xf8feff, "-1|11|0x36404d,-9|18|0xb2853a,-18|25|0xa587c2,8|58|0xcca148,-6|65|0x3f4135,-39|55|0x8869ad,-39|14|0xfaf7f3,-41|21|0xac8941", 90, 21, 249, 445, 650},
		{0x72583a, "-5|13|0x394149,-6|10|0xcfa85c,23|-40|0x5b3174,26|-35|0x4a2c5b,16|-32|0xdddd66,-14|-40|0xd2ce8e,21|11|0x8e7130", 90, 21, 249, 445, 650},
		{0x4f4e44, "-6|-25|0xccb345,-42|-37|0x805599,-31|-32|0x3a3331,-35|-1|0x745534,-32|15|0x444137,2|6|0x564f4c", 90, 21, 249, 445, 650},
	}


	local mm = {
		{154,339},
		{321, 361},
		{152,537},
		{343,541}
	}

	local name = nil
	for k,v in pairs(tt) do
		local x,y = findMultiColorInRegionFuzzy( table.unpack(v[1]))
		if x > -1 then
			name = k
			break
		end
	end
	toast("name:"..tostring(name))
	--mSleep(300)
	if name then
		mLog("name:"..name, true)
		for i = 1, 4, 1 do
			local x,y = findMultiColorInRegionFuzzy( table.unpack(tt[name][i]))
			if x > -1 then
				mTap({x,y})
				mTap(mm[i])
				mSleep(400)
			end
		end
	else
		mLog("没有找到名字", true)
		mSleep(2000)
	end 
end
--ZhuaGui()
--XunWu(name)